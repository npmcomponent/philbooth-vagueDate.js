(function(){"use strict";function e(e){var n=t(e.units),a=Date.now(),o=r(e.from,n,a),i=r(e.to,n,a),s=o.timestamp-i.timestamp,u=Math.abs(s);return c(s,u,o,i)||g(u,s)}function t(e){if(e===void 0)return"ms";if("s"===e||"ms"===e)return e;throw Error("Invalid units")}function r(e,t,r){if(e===void 0)return s(r);if("string"==typeof e&&(e=parseInt(e,10)),n(e)&&o(e))throw Error("Invalid timestamp");return"s"===t?s(1e3*e):s(e)}function n(e){return a(e)===!1}function a(e){return"[object Date]"===Object.prototype.toString.call(e)&&isNaN(e.getTime())===!1}function o(e){return i(e)===!1}function i(e){return"number"==typeof e&&isNaN(e)===!1}function s(e){return a(e)?u(e):i(e)?y(e):void 0}function u(e){return f(e.getTime(),e)}function f(e,t){return{timestamp:e,day:t.getDay(),month:t.getMonth(),year:t.getYear()}}function y(e){return f(e,new Date(e))}function c(e,t,r,n){if(0===e)return"now";if(2*p>t){if(r.day===n.day)return"today";if(h(r.day,n.day))return"tomorrow";if(h(n.day,r.day))return"yesterday"}if(M>t)return e>0&&r.day<n.day?"last week":0>e&&r.day>n.day?"next week":"this week";if(2*M>t){if(e>0&&r.day>n.day)return"last week";if(0>e&&r.day<n.day)return"next week"}if(2*x>t){if(r.month===n.month)return"this month";if(l(r.month,n.month))return"next month";if(l(n.month,r.month))return"last month"}return r.year===n.year?"this year":r.year===n.year+1?"last year":r.year===n.year-1?"next year":void 0}function d(e){var t=new Date;switch(e){case"now":break;case"today":m(t);break;case"yesterday":t.setDate(t.getDate()-1),m(t);break;case"tomorrow":t.setDate(t.getDate()+1),m(t);break;case"last week":t.setDate(t.getDate()-7),m(t);break;case"next week":t.setDate(t.getDate()+7),m(t);break;case"last month":t.setMonth(t.getMonth()-1),m(t);break;case"next month":t.setMonth(t.getMonth()+1),m(t);break;case"last year":t.setYear(t.getYear()-1),m(t);break;case"next year":t.setYear(t.getYear()+1),m(t);break;case"whenever":t=new Date(0);break;default:throw Error("Invalid vague date")}return t}function m(e){e.setHours(23),e.setMinutes(59),e.setSeconds(59),e.setMilliseconds(999)}function h(e,t){return w(e,t,6)}function w(e,t,r){return e===t-1||e===r&&0===t}function l(e,t){return w(e,t,11)}function g(e,t){var r=Math.floor(e/Y);return 0>t?"in "+r+" years":r+" years ago"}var k={get:e,set:d},b=1e3,D=60*b,v=60*D,p=24*v,M=7*p,x=31*p,Y=365*p;"undefined"==typeof module||null===module?window.vagueDate=k:module.exports=k})();