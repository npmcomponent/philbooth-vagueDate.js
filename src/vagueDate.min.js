(function(e){"use strict";function t(e){var t=r(e.units),a=Date.now(),o=n(e.from,t,a),i=n(e.to,t,a),u=o.timestamp-i.timestamp,s=Math.abs(u);return d(u,s,o,i)||b(s,u)}function r(e){if(e===void 0)return"ms";if("s"===e||"ms"===e)return e;throw Error("Invalid units")}function n(e,t,r){if(e===void 0)return s(r);if("string"==typeof e&&(e=parseInt(e,10)),a(e)&&i(e))throw Error("Invalid timestamp");return"s"===t?s(1e3*e):s(e)}function a(e){return o(e)===!1}function o(e){return"[object Date]"===Object.prototype.toString.call(e)&&isNaN(e.getTime())===!1}function i(e){return u(e)===!1}function u(e){return"number"==typeof e&&isNaN(e)===!1}function s(e){return o(e)?f(e):u(e)?y(e):void 0}function f(e){return c(e.getTime(),e)}function c(e,t){return{timestamp:e,day:t.getDay(),month:t.getMonth(),year:t.getYear()}}function y(e){return c(e,new Date(e))}function d(e,t,r,n){if(0===e)return"now";if(2*M>t){if(r.day===n.day)return"today";if(l(r.day,n.day))return"tomorrow";if(l(n.day,r.day))return"yesterday"}if(I>t)return e>0&&r.day<n.day?"last week":0>e&&r.day>n.day?"next week":"this week";if(2*I>t){if(e>0&&r.day>n.day)return"last week";if(0>e&&r.day<n.day)return"next week"}if(2*N>t){if(r.month===n.month)return"this month";if(k(r.month,n.month))return"next month";if(k(n.month,r.month))return"last month"}return r.year===n.year?"this year":r.year===n.year+1?"last year":r.year===n.year-1?"next year":void 0}function m(e){var t=new Date;switch(e){case"now":break;case"today":h(t);break;case"yesterday":t.setDate(t.getDate()-1),h(t);break;case"tomorrow":t.setDate(t.getDate()+1),h(t);break;case"last week":h(t);break;case"next week":h(t);break;case"last month":h(t);break;case"next month":h(t);break;case"last year":h(t);break;case"next year":h(t);break;case"whenever":h(t);break;default:throw Error("Invalid vague date")}return t}function h(e){e.setHours(23),e.setMinutes(59),e.setSeconds(59),e.setMilliseconds(999)}function l(e,t){return w(e,t,6)}function w(e,t,r){return e===t-1||e===r&&0===t}function k(e,t){return w(e,t,11)}function b(e,t){var r=Math.floor(e/j);return 0>t?"in "+r+" years":r+" years ago"}function v(){"function"==typeof define&&define.amd?define(function(){return g}):"object"==typeof module||null!==module?module.exports=g:e.vagueDate=g}var g={get:t,set:m},p=1e3,D=60*p,x=60*D,M=24*x,I=7*M,N=31*M,j=365*M;v()})(this);