(function(t){"use strict";function e(t){var e=n(t.units),o=Date.now(),u=r(t.from,e,o),i=r(t.to,e,o),a=u.timestamp-i.timestamp,f=Math.abs(a);return d(f,u,i)||b(f,a)}function n(t){if(t===void 0)return"ms";if("s"===t||"ms"===t)return t;throw Error("Invalid units")}function r(t,e,n){if(t===void 0)return f(n);if("string"==typeof t&&(t=parseInt(t,10)),o(t)&&i(t))throw Error("Invalid time");return"number"==typeof t&&"s"===e&&(t*=1e3),f(t)}function o(t){return u(t)===!1}function u(t){return"[object Date]"===Object.prototype.toString.call(t)&&isNaN(t.getTime())===!1}function i(t){return a(t)===!1}function a(t){return"number"==typeof t&&isNaN(t)===!1}function f(t){return u(t)?c(t):a(t)?s(t):void 0}function c(t){return y(t.getTime(),t)}function y(t,e){return{timestamp:t,day:e.getDay(),week:m(e),month:e.getMonth(),year:e.getYear()}}function m(t){var e=0,n=new Date(t.getFullYear(),0,1);return n.getDay()>t.getDay()&&(e=1),Math.floor((t.getTime()-n.getTime())/M.week)+e-1}function s(t){return y(t,new Date(t))}function d(t,e,n){return g(t,e,n)||p(t,e,n)||w(t,e,n)||D(e,n)}function g(t,e,n){return l(t,"day",e,n,"today","tomorrow","yesterday")}function l(t,e,n,r,o,u,i){if(2*M[e]>t){if(n[e]===r[e])return o;if(h(n[e],r[e],N[e]))return u;if(h(r[e],n[e],N[e]))return i}}function h(t,e,n){return t===e-1||t===n-1&&0===e}function p(t,e,n){return v(t,"week",e,n)}function v(t,e,n,r){return l(t,e,n,r,"this "+e,"next "+e,"last "+e)}function w(t,e,n){return v(t,"month",e,n)}function D(t,e){return t.year===e.year?"this year":t.year===e.year+1?"last year":t.year===e.year-1?"next year":void 0}function b(t,e){var n=Math.floor(t/M.year);return 0>e?"in "+n+" years":n+" years ago"}function k(){"function"==typeof define&&define.amd?define(function(){return T}):"object"==typeof module&&null!==module?module.exports=T:t.vagueDate=T}var M={day:864e5,week:6048e5,month:26784e5,year:31536e6},N={day:7,week:52,month:12},T={get:e};k()})(this);