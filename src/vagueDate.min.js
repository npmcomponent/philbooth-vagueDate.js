(function(){"use strict";function e(e){var n=t(e.units),a=Date.now(),o=r(e.from,n,a),i=r(e.to,n,a),s=o.timestamp-i.timestamp,u=Math.abs(s);return y(s,u,o,i)||g(u,s)}function t(e){if(e===void 0)return"ms";if("s"===e||"ms"===e)return e;throw Error("Invalid units")}function r(e,t,r){if(e===void 0)return s(r);if("string"==typeof e&&(e=parseInt(e,10)),n(e)&&o(e))throw Error("Invalid timestamp");return"s"===t?s(1e3*e):s(e)}function n(e){return a(e)===!1}function a(e){return"[object Date]"===Object.prototype.toString.call(e)&&isNaN(e.getTime())===!1}function o(e){return i(e)===!1}function i(e){return"number"==typeof e&&isNaN(e)===!1}function s(e){return a(e)?u(e):i(e)?c(e):void 0}function u(e){return f(e.getTime(),e)}function f(e,t){return{timestamp:e,day:t.getDay(),month:t.getMonth(),year:t.getYear()}}function c(e){return f(e,new Date(e))}function y(e,t,r,n){return 0===e?"now":d(t,r,n)||h(e,t,r,n)||k(t,r,n)||l(r,n)}function d(e,t,r){return m(e,"day",t,r,"today","tomorrow","yesterday")}function m(e,t,r,n,a,o,i){if(2*v[t]>e){if(r[t]===n[t])return a;if(w(r[t],n[t],p[t]))return o;if(w(n[t],r[t],p[t]))return i}}function w(e,t,r){return e===t-1||e===r-1&&0===t}function h(e,t,r,n){if(v.week>t)return e>0&&r.day<n.day?"last week":0>e&&r.day>n.day?"next week":"this week";if(2*v.week>t){if(e>0&&r.day>n.day)return"last week";if(0>e&&r.day<n.day)return"next week"}}function k(e,t,r){return m(e,"month",t,r,"this month","next month","last month")}function l(e,t){return e.year===t.year?"this year":e.year===t.year+1?"last year":e.year===t.year-1?"next year":void 0}function g(e,t){var r=Math.floor(e/v.year);return 0>t?"in "+r+" years":r+" years ago"}function b(e){var t=new Date;switch(e){case"now":break;case"today":D(t);break;case"yesterday":t.setDate(t.getDate()-1),D(t);break;case"tomorrow":t.setDate(t.getDate()+1),D(t);break;case"last week":t.setDate(t.getDate()-7),D(t);break;case"next week":t.setDate(t.getDate()+7),D(t);break;case"last month":t.setMonth(t.getMonth()-1),D(t);break;case"next month":t.setMonth(t.getMonth()+1),D(t);break;case"last year":t.setYear(t.getYear()-1),D(t);break;case"next year":t.setYear(t.getYear()+1),D(t);break;case"whenever":t=new Date(0);break;default:throw Error("Invalid vague date")}return t}function D(e){e.setHours(23),e.setMinutes(59),e.setSeconds(59),e.setMilliseconds(999)}var v={day:864e5,week:6048e5,month:26784e5,year:31536e6},p={day:7,month:12},M={get:e,set:b};"undefined"==typeof module||null===module?window.vagueDate=M:module.exports=M})();